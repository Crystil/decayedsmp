<!DOCTYPE html>
<html>
<head>
    <title>Builder Application</title>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron&display=swap" rel="stylesheet">
    <style>
        body{font-family:Orbitron;background:#000;color:#eee}
        .form{max-width:700px;margin:4rem auto;border:1px solid #400;padding:3rem}
        label{display:block;margin-top:1.4rem;color:#c00000}
        input,textarea{width:100%;background:#0d0000;border:1px solid #700;color:#fff;padding:.8rem}
        button{margin-top:2rem;width:100%;padding:1rem;border:2px solid #900;background:none;color:#fff}
    </style>
</head>
<body>

<div class="form">
    <h2>Builder Application</h2>
    <form id="builderForm">
        <label>Name</label><input required>
        <label>Age</label><input type="number" required>
        <label>IGN</label><input required>
        <label>Discord</label><input required>
        <label>Build style</label><input>
        <label>Portfolio / Screenshots link</label><input>
        <label>Why builder?</label><textarea></textarea>
        <button>Submit</button>
    </form>
</div>

<script type="module">
    import{initializeApp}from"https://www.gstatic.com/firebasejs/12.9.0/firebase-app.js";
    import{getFirestore,collection,addDoc,serverTimestamp}from"https://www.gstatic.com/firebasejs/12.9.0/firebase-firestore.js";

    const app=initializeApp({apiKey:"AIzaSyA2hzkK8CMcMCTPDGzcF5cqp8ulZRAlBZk",projectId:"decayedsmp"});
    const db=getFirestore(app);

    builderForm.onsubmit=async e=>{
     e.preventDefault();
     const f=e.target.querySelectorAll("input,textarea");
     await addDoc(collection(db,"applications"),{
      type:"builder",
      name:f[0].value,
      age:f[1].value,
      ign:f[2].value,
      discord:f[3].value,
      style:f[4].value,
      portfolio:f[5].value,
      reason:f[6].value,
      status:"pending",
      createdAt:serverTimestamp()
     });
     window.location.href="admin-dashboard.html";
    };
</script>
</body>
</html>
